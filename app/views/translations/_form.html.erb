<%= form_with(model:[@support, @translation]) do |f| %>
    <% #TODO add javascript check value on input before sending data %>
    <div id="writing-errors">
    </div>
    <div class="row">
        <div class="col-md-4 nopadding">
            <%= @support.sourceLanguage.name %>
        </div>
        <div class="col-md-4 nopadding">
            Contexte
        </div>
        <div class="col-md-4 nopadding">
            <%= @support.targetLanguage.name %>
        </div>
    </div>

    <% # render all translations of current support if we are on index_page %>
    <div class="translations">
    <%= render @translations if index_page %>
    </div>
    <% # I add this css-class to hide the section when page load if current page is index %>
    <% css_class = index_page ? 'add-translation-form' : '' %>

    <div class="<%= css_class %> form-group">
        <div class="row">
            <div class="col-md-4 nopadding"><%= f.text_field :sourceWriting, class: "form-control input-translation-form", placeholder: 'Mot - ex: Bonjour!'  %></div>
            <div class="col-md-4 nopadding"><%= f.text_field :context, class: "form-control input-translation-form", placeholder: 'Donnez un exemple!'  %></div>
            <div class="col-md-4 nopadding"><%= f.text_field :targetWriting, class: "form-control input-translation-form", placeholder: 'DÃ©finition - ex: Hello!' %></div>
        </div>
        <div class="row">
            <div class="col-md-6 nopadding">
                <%= f.submit submit_value, class: "btn btn-primary" %>
                <%= link_to 'Annuler', 'javascript:;', "data-translation_form" => "hide" if index_page %>
            </div>
        </div>
    </div>
<% end %>
